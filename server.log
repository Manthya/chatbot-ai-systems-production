INFO:     Started server process [9905]
INFO:     Waiting for application startup.
2026-02-18 15:17:40,284 - chatbot_ai_system.server.main - INFO - Starting Chatbot AI System v0.1.0
2026-02-18 15:17:40,284 - chatbot_ai_system.server.main - INFO - Debug mode: True
2026-02-18 15:17:40,284 - chatbot_ai_system.server.main - INFO - Default LLM provider: ollama
2026-02-18 15:17:40,290 - chatbot_ai_system.database.redis - INFO - Successfully connected to Redis.
2026-02-18 15:17:40,291 - chatbot_ai_system.server.main - INFO - Loading 9 MCP servers...
2026-02-18 15:17:40,291 - chatbot_ai_system.server.main - INFO - Registered MCP server: filesystem
2026-02-18 15:17:40,291 - chatbot_ai_system.server.main - INFO - Registered MCP server: time
2026-02-18 15:17:40,291 - chatbot_ai_system.server.main - INFO - Registered MCP server: memory
2026-02-18 15:17:40,291 - chatbot_ai_system.server.main - INFO - Registered MCP server: fetch
2026-02-18 15:17:40,291 - chatbot_ai_system.server.main - INFO - Registered MCP server: puppeteer
2026-02-18 15:17:40,291 - chatbot_ai_system.server.main - INFO - Registered MCP server: git
2026-02-18 15:17:40,292 - chatbot_ai_system.server.main - INFO - Registered MCP server: docker
2026-02-18 15:17:40,292 - chatbot_ai_system.server.main - INFO - Registered MCP server: sequential-thinking
2026-02-18 15:17:40,292 - chatbot_ai_system.server.main - INFO - Registered MCP server: sqlite
2026-02-18 15:17:40,292 - chatbot_ai_system.tools.mcp_client - INFO - Connecting to MCP server filesystem...
Secure MCP Filesystem Server running on stdio
2026-02-18 15:17:41,566 - chatbot_ai_system.tools.mcp_client - INFO - Connected to MCP server filesystem
2026-02-18 15:17:41,566 - chatbot_ai_system.tools.mcp_client - INFO - Listing tools for filesystem...
2026-02-18 15:17:41,568 - chatbot_ai_system.tools.mcp_client - INFO - Using cached tools for filesystem
Client does not support MCP Roots, using allowed directories set from server args: [ '/Users/mk/Documents/chatbot-ai-systems-production' ]
2026-02-18 15:17:41,568 - chatbot_ai_system.tools.mcp_client - INFO - Connecting to MCP server time...
MCP Time Server running on stdio
2026-02-18 15:17:43,182 - chatbot_ai_system.tools.mcp_client - INFO - Connected to MCP server time
2026-02-18 15:17:43,182 - chatbot_ai_system.tools.mcp_client - INFO - Listing tools for time...
2026-02-18 15:17:43,183 - chatbot_ai_system.tools.mcp_client - INFO - Using cached tools for time
2026-02-18 15:17:43,183 - chatbot_ai_system.tools.mcp_client - INFO - Connecting to MCP server memory...
Knowledge Graph MCP Server running on stdio
2026-02-18 15:17:44,141 - chatbot_ai_system.tools.mcp_client - INFO - Connected to MCP server memory
2026-02-18 15:17:44,141 - chatbot_ai_system.tools.mcp_client - INFO - Listing tools for memory...
2026-02-18 15:17:44,143 - chatbot_ai_system.tools.mcp_client - INFO - Using cached tools for memory
2026-02-18 15:17:44,143 - chatbot_ai_system.tools.mcp_client - INFO - Connecting to MCP server fetch...
2026-02-18 15:17:46,821 - chatbot_ai_system.tools.mcp_client - INFO - Connected to MCP server fetch
2026-02-18 15:17:46,821 - chatbot_ai_system.tools.mcp_client - INFO - Listing tools for fetch...
2026-02-18 15:17:46,822 - chatbot_ai_system.tools.mcp_client - INFO - Using cached tools for fetch
2026-02-18 15:17:46,822 - chatbot_ai_system.tools.mcp_client - INFO - Connecting to MCP server puppeteer...
2026-02-18 15:17:47,759 - chatbot_ai_system.tools.mcp_client - INFO - Connected to MCP server puppeteer
2026-02-18 15:17:47,759 - chatbot_ai_system.tools.mcp_client - INFO - Listing tools for puppeteer...
2026-02-18 15:17:47,760 - chatbot_ai_system.tools.mcp_client - INFO - Using cached tools for puppeteer
2026-02-18 15:17:47,760 - chatbot_ai_system.tools.mcp_client - INFO - Connecting to MCP server git...
2026-02-18 15:17:49,652 - chatbot_ai_system.tools.mcp_client - INFO - Connected to MCP server git
2026-02-18 15:17:49,653 - chatbot_ai_system.tools.mcp_client - INFO - Listing tools for git...
2026-02-18 15:17:49,655 - chatbot_ai_system.tools.mcp_client - INFO - Using cached tools for git
2026-02-18 15:17:49,655 - chatbot_ai_system.tools.mcp_client - INFO - Connecting to MCP server docker...
npm notice Access token expired or revoked. Please try logging in again.
npm notice Access token expired or revoked. Please try logging in again.
npm error code E404
npm error 404 Not Found - GET https://registry.npmjs.org/@modelcontextprotocol%2fserver-docker - Not found
npm error 404
npm error 404  '@modelcontextprotocol/server-docker@*' is not in this registry.
npm error 404
npm error 404 Note that you can also install from a
npm error 404 tarball, folder, http url, or git url.
npm error A complete log of this run can be found in: /Users/mk/.npm/_logs/2026-02-18T06_17_49_736Z-debug-0.log
2026-02-18 15:17:50,556 - chatbot_ai_system.tools.mcp_client - ERROR - Failed to connect to MCP server docker: Connection closed
2026-02-18 15:17:50,556 - chatbot_ai_system.tools.mcp_client - INFO - Connecting to MCP server sequential-thinking...
Sequential Thinking MCP Server running on stdio
2026-02-18 15:17:51,444 - chatbot_ai_system.tools.mcp_client - INFO - Connected to MCP server sequential-thinking
2026-02-18 15:17:51,444 - chatbot_ai_system.tools.mcp_client - INFO - Listing tools for sequential-thinking...
2026-02-18 15:17:51,445 - chatbot_ai_system.tools.mcp_client - INFO - Using cached tools for sequential-thinking
2026-02-18 15:17:51,445 - chatbot_ai_system.tools.mcp_client - INFO - Connecting to MCP server sqlite...
SQLite MCP Server running on stdio
2026-02-18 15:17:52,351 - chatbot_ai_system.tools.mcp_client - INFO - Connected to MCP server sqlite
2026-02-18 15:17:52,351 - chatbot_ai_system.tools.mcp_client - INFO - Listing tools for sqlite...
2026-02-18 15:17:52,353 - chatbot_ai_system.tools.mcp_client - INFO - Using cached tools for sqlite
2026-02-18 15:17:52,353 - chatbot_ai_system.server.main - INFO - MCP servers registered and tools refreshed
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2026-02-18 15:17:53,301 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
INFO:     127.0.0.1:56501 - "GET /health HTTP/1.1" 200 OK
2026-02-18 15:17:53,340 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2026-02-18 15:17:53,340 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2026-02-18 15:17:53,340 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-18 15:17:53,340 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-02-18 15:17:53,343 INFO sqlalchemy.engine.Engine select current_schema()
2026-02-18 15:17:53,343 - sqlalchemy.engine.Engine - INFO - select current_schema()
2026-02-18 15:17:53,343 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-18 15:17:53,343 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-02-18 15:17:53,345 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2026-02-18 15:17:53,345 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2026-02-18 15:17:53,345 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-18 15:17:53,345 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-02-18 15:17:53,346 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 15:17:53,346 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-18 15:17:53,356 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.created_at, users.last_login_at 
FROM users 
WHERE users.id = $1::UUID
2026-02-18 15:17:53,356 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.username, users.created_at, users.last_login_at 
FROM users 
WHERE users.id = $1::UUID
2026-02-18 15:17:53,357 INFO sqlalchemy.engine.Engine [generated in 0.00017s] (UUID('00000000-0000-0000-0000-000000000000'),)
2026-02-18 15:17:53,357 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (UUID('00000000-0000-0000-0000-000000000000'),)
2026-02-18 15:17:53,362 INFO sqlalchemy.engine.Engine INSERT INTO conversations (id, user_id, title, is_archived, created_at, updated_at, summary, last_summarized_seq_id) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::BOOLEAN, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE, $7::VARCHAR, $8::INTEGER)
2026-02-18 15:17:53,362 - sqlalchemy.engine.Engine - INFO - INSERT INTO conversations (id, user_id, title, is_archived, created_at, updated_at, summary, last_summarized_seq_id) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::BOOLEAN, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE, $7::VARCHAR, $8::INTEGER)
2026-02-18 15:17:53,363 INFO sqlalchemy.engine.Engine [generated in 0.00021s] (UUID('c5cac23d-96b4-4c6c-9946-b0d659c5da5e'), UUID('00000000-0000-0000-0000-000000000000'), None, False, datetime.datetime(2026, 2, 18, 6, 17, 53, 362934), datetime.datetime(2026, 2, 18, 6, 17, 53, 362937), None, 0)
2026-02-18 15:17:53,363 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (UUID('c5cac23d-96b4-4c6c-9946-b0d659c5da5e'), UUID('00000000-0000-0000-0000-000000000000'), None, False, datetime.datetime(2026, 2, 18, 6, 17, 53, 362934), datetime.datetime(2026, 2, 18, 6, 17, 53, 362937), None, 0)
2026-02-18 15:17:53,365 INFO sqlalchemy.engine.Engine SELECT conversations.id, conversations.user_id, conversations.title, conversations.is_archived, conversations.created_at, conversations.updated_at, conversations.summary, conversations.last_summarized_seq_id 
FROM conversations 
WHERE conversations.id = $1::UUID
2026-02-18 15:17:53,365 - sqlalchemy.engine.Engine - INFO - SELECT conversations.id, conversations.user_id, conversations.title, conversations.is_archived, conversations.created_at, conversations.updated_at, conversations.summary, conversations.last_summarized_seq_id 
FROM conversations 
WHERE conversations.id = $1::UUID
2026-02-18 15:17:53,365 INFO sqlalchemy.engine.Engine [generated in 0.00010s] (UUID('c5cac23d-96b4-4c6c-9946-b0d659c5da5e'),)
2026-02-18 15:17:53,365 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] (UUID('c5cac23d-96b4-4c6c-9946-b0d659c5da5e'),)
2026-02-18 15:17:53,369 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.conversation_id = $1::UUID ORDER BY messages.sequence_number DESC 
 LIMIT $2::INTEGER
2026-02-18 15:17:53,369 - sqlalchemy.engine.Engine - INFO - SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.conversation_id = $1::UUID ORDER BY messages.sequence_number DESC 
 LIMIT $2::INTEGER
2026-02-18 15:17:53,369 INFO sqlalchemy.engine.Engine [generated in 0.00010s] (UUID('c5cac23d-96b4-4c6c-9946-b0d659c5da5e'), 50)
2026-02-18 15:17:53,369 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] (UUID('c5cac23d-96b4-4c6c-9946-b0d659c5da5e'), 50)
2026-02-18 15:17:53,383 INFO sqlalchemy.engine.Engine INSERT INTO messages (id, conversation_id, role, content, tool_calls, tool_call_id, metadata, token_count_prompt, token_count_completion, model, latency_ms, finish_reason, embedding, sequence_number, created_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::JSONB, $6::VARCHAR, $7::JSONB, $8::INTEGER, $9::INTEGER, $10::VARCHAR, $11::INTEGER, $12::VARCHAR, $13, $14::INTEGER, $15::TIMESTAMP WITHOUT TIME ZONE)
2026-02-18 15:17:53,383 - sqlalchemy.engine.Engine - INFO - INSERT INTO messages (id, conversation_id, role, content, tool_calls, tool_call_id, metadata, token_count_prompt, token_count_completion, model, latency_ms, finish_reason, embedding, sequence_number, created_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::JSONB, $6::VARCHAR, $7::JSONB, $8::INTEGER, $9::INTEGER, $10::VARCHAR, $11::INTEGER, $12::VARCHAR, $13, $14::INTEGER, $15::TIMESTAMP WITHOUT TIME ZONE)
2026-02-18 15:17:53,383 INFO sqlalchemy.engine.Engine [generated in 0.00024s] (UUID('bd568b8a-d38c-4cef-9f7d-e79403389cdd'), UUID('c5cac23d-96b4-4c6c-9946-b0d659c5da5e'), <MessageRole.USER: 'user'>, 'Hi, are you active?', 'null', None, 'null', None, None, None, None, None, None, 1, datetime.datetime(2026, 2, 18, 6, 17, 53, 383728))
2026-02-18 15:17:53,383 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (UUID('bd568b8a-d38c-4cef-9f7d-e79403389cdd'), UUID('c5cac23d-96b4-4c6c-9946-b0d659c5da5e'), <MessageRole.USER: 'user'>, 'Hi, are you active?', 'null', None, 'null', None, None, None, None, None, None, 1, datetime.datetime(2026, 2, 18, 6, 17, 53, 383728))
2026-02-18 15:17:53,385 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.id = $1::UUID
2026-02-18 15:17:53,385 - sqlalchemy.engine.Engine - INFO - SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.id = $1::UUID
2026-02-18 15:17:53,386 INFO sqlalchemy.engine.Engine [generated in 0.00009s] (UUID('bd568b8a-d38c-4cef-9f7d-e79403389cdd'),)
2026-02-18 15:17:53,386 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] (UUID('bd568b8a-d38c-4cef-9f7d-e79403389cdd'),)
2026-02-18 15:17:53,387 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 15:17:53,387 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-18 15:17:53,388 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 15:17:53,388 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-18 15:17:53,389 INFO sqlalchemy.engine.Engine SELECT memories.id, memories.user_id, memories.content, memories.context, memories.last_accessed_at 
FROM memories 
WHERE memories.user_id = $1::UUID
2026-02-18 15:17:53,389 - sqlalchemy.engine.Engine - INFO - SELECT memories.id, memories.user_id, memories.content, memories.context, memories.last_accessed_at 
FROM memories 
WHERE memories.user_id = $1::UUID
2026-02-18 15:17:53,389 INFO sqlalchemy.engine.Engine [generated in 0.00008s] (UUID('00000000-0000-0000-0000-000000000000'),)
2026-02-18 15:17:53,389 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] (UUID('00000000-0000-0000-0000-000000000000'),)
2026-02-18 15:17:53,390 INFO sqlalchemy.engine.Engine SELECT conversations.id, conversations.user_id, conversations.title, conversations.is_archived, conversations.created_at, conversations.updated_at, conversations.summary, conversations.last_summarized_seq_id 
FROM conversations 
WHERE conversations.id = $1::UUID
2026-02-18 15:17:53,390 - sqlalchemy.engine.Engine - INFO - SELECT conversations.id, conversations.user_id, conversations.title, conversations.is_archived, conversations.created_at, conversations.updated_at, conversations.summary, conversations.last_summarized_seq_id 
FROM conversations 
WHERE conversations.id = $1::UUID
2026-02-18 15:17:53,390 INFO sqlalchemy.engine.Engine [generated in 0.00008s] (UUID('c5cac23d-96b4-4c6c-9946-b0d659c5da5e'),)
2026-02-18 15:17:53,390 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] (UUID('c5cac23d-96b4-4c6c-9946-b0d659c5da5e'),)
2026-02-18 15:17:53,391 - chatbot_ai_system.providers.ollama - INFO - Ollama Request URL: http://localhost:11434/api/chat
2026-02-18 15:17:53,391 - chatbot_ai_system.providers.ollama - INFO - Ollama Request Payload: {'model': 'qwen2.5:14b-instruct', 'messages': [{'role': 'system', 'content': "You are a query analyzer. Given the user's message, output TWO things.\n\n1. INTENT — which category of tools is needed:\n   GENERAL: General knowledge, coding advice, greetings, math, explanations.\n   FILESYSTEM: Reading/writing files, listing directories, searching files.\n   TIME: Tools for time operations.\n   MEMORY: Tools for memory operations.\n   FETCH: Web requests, URLs, downloading content from the internet.\n   PUPPETEER: Tools for puppeteer operations.\n   GIT: Version control, commits, branches, diffs, blame.\n   DOCKER: Tools for docker operations.\n   SEQUENTIAL-THINKING: Tools for sequential-thinking operations.\n   SQLITE: Tools for sqlite operations.\n\n2. COMPLEXITY — how many steps are needed:\n   SIMPLE: Can be answered in ONE step (single tool call or direct knowledge).\n     Examples: 'What is Python?', 'Read file.py', 'Show git status'\n   COMPLEX: Needs MULTIPLE steps where later steps depend on earlier results.\n     Examples: 'Read error log AND find the bug in source code',\n              'Compare files A and B and summarize differences',\n              'Search web for X then check our code for Y'\n\n   Signals of COMPLEX:\n     - Multiple files/resources/actions mentioned\n     - Sequential words: 'and then', 'after that', 'first...then'\n     - Analysis words: 'compare', 'analyze', 'debug', 'investigate', 'research'\n     - Conditional: 'if X then Y'\n\nOutput EXACTLY two lines, nothing else:\nINTENT: <category>\nCOMPLEXITY: <level>"}, {'role': 'user', 'content': 'Hi, are you active?'}], 'stream': False, 'options': {'temperature': 0.1, 'repeat_penalty': 1.1, 'num_predict': 20}}
2026-02-18 15:18:16,019 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2026-02-18 15:18:16,047 - chatbot_ai_system.providers.ollama - INFO - Ollama response content: INTENT: GENERAL
COMPLEXITY: SIMPLE...
2026-02-18 15:18:16,057 - chatbot_ai_system.services.agentic_engine - INFO - Phase 5.5 classifier: intent=GENERAL, complexity=COMPLEX (raw: 'INTENT: GENERAL\nCOMPLEXITY: SIMPLE')
2026-02-18 15:18:16,059 - chatbot_ai_system.orchestrator - INFO - Phase 4: intent='GENERAL', complexity='COMPLEX'
2026-02-18 15:18:16,075 - chatbot_ai_system.orchestrator - INFO - Phase 5: Selected 2 tools: ['get_current_time', 'check_repo_status']
2026-02-18 15:18:17,717 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/embeddings "HTTP/1.1 200 OK"
2026-02-18 15:18:17,748 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages JOIN conversations ON conversations.id = messages.conversation_id 
WHERE conversations.user_id = $1::UUID AND (messages.embedding <=> $2) < $3::FLOAT ORDER BY messages.embedding <=> $4 
 LIMIT $5::INTEGER
2026-02-18 15:18:17,748 - sqlalchemy.engine.Engine - INFO - SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages JOIN conversations ON conversations.id = messages.conversation_id 
WHERE conversations.user_id = $1::UUID AND (messages.embedding <=> $2) < $3::FLOAT ORDER BY messages.embedding <=> $4 
 LIMIT $5::INTEGER
2026-02-18 15:18:17,748 INFO sqlalchemy.engine.Engine [generated in 0.00558s] (UUID('00000000-0000-0000-0000-000000000000'), '[-0.09522468596696854,-0.787480354309082,-3.71852707862854,1.3776189088821411,1.188033103942871,-0.4806913733482361,1.4108479022979736,-0.46820700168 ... (14884 characters truncated) ... 19609069824,-0.6263216733932495,0.4722912311553955,0.744081974029541,-0.5427346229553223,-1.1549811363220215,-0.2197844684123993,-0.3694525361061096]', 0.30000000000000004, '[-0.09522468596696854,-0.787480354309082,-3.71852707862854,1.3776189088821411,1.188033103942871,-0.4806913733482361,1.4108479022979736,-0.46820700168 ... (14884 characters truncated) ... 19609069824,-0.6263216733932495,0.4722912311553955,0.744081974029541,-0.5427346229553223,-1.1549811363220215,-0.2197844684123993,-0.3694525361061096]', 3)
2026-02-18 15:18:17,748 - sqlalchemy.engine.Engine - INFO - [generated in 0.00558s] (UUID('00000000-0000-0000-0000-000000000000'), '[-0.09522468596696854,-0.787480354309082,-3.71852707862854,1.3776189088821411,1.188033103942871,-0.4806913733482361,1.4108479022979736,-0.46820700168 ... (14884 characters truncated) ... 19609069824,-0.6263216733932495,0.4722912311553955,0.744081974029541,-0.5427346229553223,-1.1549811363220215,-0.2197844684123993,-0.3694525361061096]', 0.30000000000000004, '[-0.09522468596696854,-0.787480354309082,-3.71852707862854,1.3776189088821411,1.188033103942871,-0.4806913733482361,1.4108479022979736,-0.46820700168 ... (14884 characters truncated) ... 19609069824,-0.6263216733932495,0.4722912311553955,0.744081974029541,-0.5427346229553223,-1.1549811363220215,-0.2197844684123993,-0.3694525361061096]', 3)
2026-02-18 15:18:17,787 - chatbot_ai_system.orchestrator - INFO - Phase 5.5: Routing to agentic Plan+ReAct engine
2026-02-18 15:18:17,787 - chatbot_ai_system.providers.ollama - INFO - Ollama Request URL: http://localhost:11434/api/chat
2026-02-18 15:18:17,788 - chatbot_ai_system.providers.ollama - INFO - Ollama Request Payload: {'model': 'qwen2.5:14b-instruct', 'messages': [{'role': 'system', 'content': "You are a task planner. Break the user's request into a step-by-step plan.\n\nRules:\n1. Each step must be ONE concrete action.\n2. Steps should be in logical order — later steps can use results of earlier steps.\n3. Keep steps concise (one line each).\n4. 3-6 steps maximum. Do not over-plan.\n5. The final step should synthesize/summarize the results.\n6. Available tools: get_current_time, check_repo_status\n\nOutput a numbered list ONLY, nothing else.\nExample:\n1. Read the error log file\n2. Identify the source file and line from the error\n3. Read the relevant source file\n4. Analyze the bug and suggest a fix"}, {'role': 'user', 'content': 'Hi, are you active?'}], 'stream': False, 'options': {'temperature': 0.3, 'repeat_penalty': 1.1, 'num_predict': 300}}
2026-02-18 15:18:39,358 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2026-02-18 15:18:39,379 - chatbot_ai_system.providers.ollama - INFO - Ollama response content: 1. Get current time to confirm availability
2. Check repository status for recent updates
3. Respond based on system activity and time...
2026-02-18 15:18:39,383 - chatbot_ai_system.services.agentic_engine - INFO - Phase 5.5 planner: 3 steps — ['Get current time to confirm availability', 'Check repository status for recent updates', 'Respond based on system activity and time']
2026-02-18 15:19:05,603 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2026-02-18 15:19:06,482 - chatbot_ai_system.services.agentic_engine - INFO - Phase 5.5 round 1: get_current_time completed in 0.01s
2026-02-18 15:19:18,401 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2026-02-18 15:19:19,579 - chatbot_ai_system.services.agentic_engine - INFO - Phase 5.5 round 2: check_repo_status completed in 0.19s
2026-02-18 15:19:32,445 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2026-02-18 15:20:48,022 - chatbot_ai_system.services.agentic_engine - INFO - Phase 5.5: Completed in 3 rounds, 128.6s
2026-02-18 15:20:48,096 INFO sqlalchemy.engine.Engine INSERT INTO messages (id, conversation_id, role, content, tool_calls, tool_call_id, metadata, token_count_prompt, token_count_completion, model, latency_ms, finish_reason, embedding, sequence_number, created_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::JSONB, $6::VARCHAR, $7::JSONB, $8::INTEGER, $9::INTEGER, $10::VARCHAR, $11::INTEGER, $12::VARCHAR, $13, $14::INTEGER, $15::TIMESTAMP WITHOUT TIME ZONE)
2026-02-18 15:20:48,096 - sqlalchemy.engine.Engine - INFO - INSERT INTO messages (id, conversation_id, role, content, tool_calls, tool_call_id, metadata, token_count_prompt, token_count_completion, model, latency_ms, finish_reason, embedding, sequence_number, created_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::JSONB, $6::VARCHAR, $7::JSONB, $8::INTEGER, $9::INTEGER, $10::VARCHAR, $11::INTEGER, $12::VARCHAR, $13, $14::INTEGER, $15::TIMESTAMP WITHOUT TIME ZONE)
2026-02-18 15:20:48,097 INFO sqlalchemy.engine.Engine [cached since 174.7s ago] (UUID('eed824c0-96b3-458d-b28f-819bcf01e2cc'), UUID('c5cac23d-96b4-4c6c-9946-b0d659c5da5e'), <MessageRole.ASSISTANT: 'assistant'>, "Based on the current time being February 18, 2026, at 15:19 (likely a future date for testing purposes) and the repository status showing recent chan ... (495 characters truncated) ... d files in the repository. No specific time restrictions apply based on this data for further interactions or inquiries regarding the project status.", 'null', None, '{"model": "qwen2.5:14b-instruct", "type": "agentic", "plan": ["Get current time to confirm availability", "Check repository status for recent updates", "Respond based on system activity and time"]}', 831, 148, 'qwen2.5:14b-instruct', None, None, None, 2, datetime.datetime(2026, 2, 18, 6, 20, 48, 94014))
2026-02-18 15:20:48,097 - sqlalchemy.engine.Engine - INFO - [cached since 174.7s ago] (UUID('eed824c0-96b3-458d-b28f-819bcf01e2cc'), UUID('c5cac23d-96b4-4c6c-9946-b0d659c5da5e'), <MessageRole.ASSISTANT: 'assistant'>, "Based on the current time being February 18, 2026, at 15:19 (likely a future date for testing purposes) and the repository status showing recent chan ... (495 characters truncated) ... d files in the repository. No specific time restrictions apply based on this data for further interactions or inquiries regarding the project status.", 'null', None, '{"model": "qwen2.5:14b-instruct", "type": "agentic", "plan": ["Get current time to confirm availability", "Check repository status for recent updates", "Respond based on system activity and time"]}', 831, 148, 'qwen2.5:14b-instruct', None, None, None, 2, datetime.datetime(2026, 2, 18, 6, 20, 48, 94014))
2026-02-18 15:20:48,159 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.id = $1::UUID
2026-02-18 15:20:48,159 - sqlalchemy.engine.Engine - INFO - SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.id = $1::UUID
2026-02-18 15:20:48,159 INFO sqlalchemy.engine.Engine [cached since 174.8s ago] (UUID('eed824c0-96b3-458d-b28f-819bcf01e2cc'),)
2026-02-18 15:20:48,159 - sqlalchemy.engine.Engine - INFO - [cached since 174.8s ago] (UUID('eed824c0-96b3-458d-b28f-819bcf01e2cc'),)
2026-02-18 15:20:48,169 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 15:20:48,169 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-18 15:20:48,199 - chatbot_ai_system.orchestrator - ERROR - Failed to embed user message at seq 1: This session is in 'prepared' state; no further SQL can be emitted within this transaction.
INFO:     127.0.0.1:56504 - "POST /api/chat HTTP/1.1" 200 OK
2026-02-18 15:20:48,315 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 15:20:48,315 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-18 15:20:48,315 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.created_at, users.last_login_at 
FROM users 
WHERE users.id = $1::UUID
2026-02-18 15:20:48,315 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.username, users.created_at, users.last_login_at 
FROM users 
WHERE users.id = $1::UUID
2026-02-18 15:20:48,315 INFO sqlalchemy.engine.Engine [cached since 175s ago] (UUID('00000000-0000-0000-0000-000000000000'),)
2026-02-18 15:20:48,315 - sqlalchemy.engine.Engine - INFO - [cached since 175s ago] (UUID('00000000-0000-0000-0000-000000000000'),)
2026-02-18 15:20:48,326 INFO sqlalchemy.engine.Engine INSERT INTO conversations (id, user_id, title, is_archived, created_at, updated_at, summary, last_summarized_seq_id) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::BOOLEAN, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE, $7::VARCHAR, $8::INTEGER)
2026-02-18 15:20:48,326 - sqlalchemy.engine.Engine - INFO - INSERT INTO conversations (id, user_id, title, is_archived, created_at, updated_at, summary, last_summarized_seq_id) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::BOOLEAN, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE, $7::VARCHAR, $8::INTEGER)
2026-02-18 15:20:48,326 INFO sqlalchemy.engine.Engine [cached since 175s ago] (UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'), UUID('00000000-0000-0000-0000-000000000000'), None, False, datetime.datetime(2026, 2, 18, 6, 20, 48, 326679), datetime.datetime(2026, 2, 18, 6, 20, 48, 326688), None, 0)
2026-02-18 15:20:48,326 - sqlalchemy.engine.Engine - INFO - [cached since 175s ago] (UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'), UUID('00000000-0000-0000-0000-000000000000'), None, False, datetime.datetime(2026, 2, 18, 6, 20, 48, 326679), datetime.datetime(2026, 2, 18, 6, 20, 48, 326688), None, 0)
2026-02-18 15:20:48,330 INFO sqlalchemy.engine.Engine SELECT conversations.id, conversations.user_id, conversations.title, conversations.is_archived, conversations.created_at, conversations.updated_at, conversations.summary, conversations.last_summarized_seq_id 
FROM conversations 
WHERE conversations.id = $1::UUID
2026-02-18 15:20:48,330 - sqlalchemy.engine.Engine - INFO - SELECT conversations.id, conversations.user_id, conversations.title, conversations.is_archived, conversations.created_at, conversations.updated_at, conversations.summary, conversations.last_summarized_seq_id 
FROM conversations 
WHERE conversations.id = $1::UUID
2026-02-18 15:20:48,330 INFO sqlalchemy.engine.Engine [cached since 175s ago] (UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'),)
2026-02-18 15:20:48,330 - sqlalchemy.engine.Engine - INFO - [cached since 175s ago] (UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'),)
2026-02-18 15:20:48,331 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.conversation_id = $1::UUID ORDER BY messages.sequence_number DESC 
 LIMIT $2::INTEGER
2026-02-18 15:20:48,331 - sqlalchemy.engine.Engine - INFO - SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.conversation_id = $1::UUID ORDER BY messages.sequence_number DESC 
 LIMIT $2::INTEGER
2026-02-18 15:20:48,331 INFO sqlalchemy.engine.Engine [cached since 175s ago] (UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'), 50)
2026-02-18 15:20:48,331 - sqlalchemy.engine.Engine - INFO - [cached since 175s ago] (UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'), 50)
2026-02-18 15:20:48,333 INFO sqlalchemy.engine.Engine INSERT INTO messages (id, conversation_id, role, content, tool_calls, tool_call_id, metadata, token_count_prompt, token_count_completion, model, latency_ms, finish_reason, embedding, sequence_number, created_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::JSONB, $6::VARCHAR, $7::JSONB, $8::INTEGER, $9::INTEGER, $10::VARCHAR, $11::INTEGER, $12::VARCHAR, $13, $14::INTEGER, $15::TIMESTAMP WITHOUT TIME ZONE)
2026-02-18 15:20:48,333 - sqlalchemy.engine.Engine - INFO - INSERT INTO messages (id, conversation_id, role, content, tool_calls, tool_call_id, metadata, token_count_prompt, token_count_completion, model, latency_ms, finish_reason, embedding, sequence_number, created_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::JSONB, $6::VARCHAR, $7::JSONB, $8::INTEGER, $9::INTEGER, $10::VARCHAR, $11::INTEGER, $12::VARCHAR, $13, $14::INTEGER, $15::TIMESTAMP WITHOUT TIME ZONE)
2026-02-18 15:20:48,333 INFO sqlalchemy.engine.Engine [cached since 174.9s ago] (UUID('41a10c51-0d02-4d01-8790-dc7dcafd2875'), UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'), <MessageRole.USER: 'user'>, 'List files in the current directory', 'null', None, 'null', None, None, None, None, None, None, 1, datetime.datetime(2026, 2, 18, 6, 20, 48, 333234))
2026-02-18 15:20:48,333 - sqlalchemy.engine.Engine - INFO - [cached since 174.9s ago] (UUID('41a10c51-0d02-4d01-8790-dc7dcafd2875'), UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'), <MessageRole.USER: 'user'>, 'List files in the current directory', 'null', None, 'null', None, None, None, None, None, None, 1, datetime.datetime(2026, 2, 18, 6, 20, 48, 333234))
2026-02-18 15:20:48,336 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.id = $1::UUID
2026-02-18 15:20:48,336 - sqlalchemy.engine.Engine - INFO - SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.id = $1::UUID
2026-02-18 15:20:48,337 INFO sqlalchemy.engine.Engine [cached since 174.9s ago] (UUID('41a10c51-0d02-4d01-8790-dc7dcafd2875'),)
2026-02-18 15:20:48,337 - sqlalchemy.engine.Engine - INFO - [cached since 174.9s ago] (UUID('41a10c51-0d02-4d01-8790-dc7dcafd2875'),)
2026-02-18 15:20:48,348 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 15:20:48,348 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-18 15:20:48,358 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 15:20:48,358 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-18 15:20:48,358 INFO sqlalchemy.engine.Engine SELECT memories.id, memories.user_id, memories.content, memories.context, memories.last_accessed_at 
FROM memories 
WHERE memories.user_id = $1::UUID
2026-02-18 15:20:48,358 - sqlalchemy.engine.Engine - INFO - SELECT memories.id, memories.user_id, memories.content, memories.context, memories.last_accessed_at 
FROM memories 
WHERE memories.user_id = $1::UUID
2026-02-18 15:20:48,358 INFO sqlalchemy.engine.Engine [cached since 175s ago] (UUID('00000000-0000-0000-0000-000000000000'),)
2026-02-18 15:20:48,358 - sqlalchemy.engine.Engine - INFO - [cached since 175s ago] (UUID('00000000-0000-0000-0000-000000000000'),)
2026-02-18 15:20:48,362 INFO sqlalchemy.engine.Engine SELECT conversations.id, conversations.user_id, conversations.title, conversations.is_archived, conversations.created_at, conversations.updated_at, conversations.summary, conversations.last_summarized_seq_id 
FROM conversations 
WHERE conversations.id = $1::UUID
2026-02-18 15:20:48,362 - sqlalchemy.engine.Engine - INFO - SELECT conversations.id, conversations.user_id, conversations.title, conversations.is_archived, conversations.created_at, conversations.updated_at, conversations.summary, conversations.last_summarized_seq_id 
FROM conversations 
WHERE conversations.id = $1::UUID
2026-02-18 15:20:48,362 INFO sqlalchemy.engine.Engine [cached since 175s ago] (UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'),)
2026-02-18 15:20:48,362 - sqlalchemy.engine.Engine - INFO - [cached since 175s ago] (UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'),)
2026-02-18 15:20:48,365 - chatbot_ai_system.providers.ollama - INFO - Ollama Request URL: http://localhost:11434/api/chat
2026-02-18 15:20:48,365 - chatbot_ai_system.providers.ollama - INFO - Ollama Request Payload: {'model': 'qwen2.5:14b-instruct', 'messages': [{'role': 'system', 'content': "You are a query analyzer. Given the user's message, output TWO things.\n\n1. INTENT — which category of tools is needed:\n   GENERAL: General knowledge, coding advice, greetings, math, explanations.\n   FILESYSTEM: Reading/writing files, listing directories, searching files.\n   TIME: Tools for time operations.\n   MEMORY: Tools for memory operations.\n   FETCH: Web requests, URLs, downloading content from the internet.\n   PUPPETEER: Tools for puppeteer operations.\n   GIT: Version control, commits, branches, diffs, blame.\n   DOCKER: Tools for docker operations.\n   SEQUENTIAL-THINKING: Tools for sequential-thinking operations.\n   SQLITE: Tools for sqlite operations.\n\n2. COMPLEXITY — how many steps are needed:\n   SIMPLE: Can be answered in ONE step (single tool call or direct knowledge).\n     Examples: 'What is Python?', 'Read file.py', 'Show git status'\n   COMPLEX: Needs MULTIPLE steps where later steps depend on earlier results.\n     Examples: 'Read error log AND find the bug in source code',\n              'Compare files A and B and summarize differences',\n              'Search web for X then check our code for Y'\n\n   Signals of COMPLEX:\n     - Multiple files/resources/actions mentioned\n     - Sequential words: 'and then', 'after that', 'first...then'\n     - Analysis words: 'compare', 'analyze', 'debug', 'investigate', 'research'\n     - Conditional: 'if X then Y'\n\nOutput EXACTLY two lines, nothing else:\nINTENT: <category>\nCOMPLEXITY: <level>"}, {'role': 'user', 'content': 'List files in the current directory'}], 'stream': False, 'options': {'temperature': 0.1, 'repeat_penalty': 1.1, 'num_predict': 20}}
2026-02-18 15:20:51,215 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/embeddings "HTTP/1.1 200 OK"
2026-02-18 15:20:51,286 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 15:20:51,286 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-18 15:20:51,290 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.id = $1::UUID
2026-02-18 15:20:51,290 - sqlalchemy.engine.Engine - INFO - SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.id = $1::UUID
2026-02-18 15:20:51,290 INFO sqlalchemy.engine.Engine [generated in 0.00035s] (UUID('eed824c0-96b3-458d-b28f-819bcf01e2cc'),)
2026-02-18 15:20:51,290 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (UUID('eed824c0-96b3-458d-b28f-819bcf01e2cc'),)
2026-02-18 15:20:51,403 INFO sqlalchemy.engine.Engine UPDATE messages SET embedding=$1 WHERE messages.id = $2::UUID
2026-02-18 15:20:51,403 - sqlalchemy.engine.Engine - INFO - UPDATE messages SET embedding=$1 WHERE messages.id = $2::UUID
2026-02-18 15:20:51,403 INFO sqlalchemy.engine.Engine [generated in 0.01039s] ('[-0.19950644671916962,0.20527352392673492,-2.880282163619995,-0.832651674747467,1.1765673160552979,0.10709525644779205,0.5559015870094299,0.235469892 ... (14925 characters truncated) ... 87275696,0.22770874202251434,0.9135093092918396,-0.2299477607011795,-0.40244343876838684,-0.8386380672454834,0.12401708960533142,-1.0957659482955933]', UUID('eed824c0-96b3-458d-b28f-819bcf01e2cc'))
2026-02-18 15:20:51,403 - sqlalchemy.engine.Engine - INFO - [generated in 0.01039s] ('[-0.19950644671916962,0.20527352392673492,-2.880282163619995,-0.832651674747467,1.1765673160552979,0.10709525644779205,0.5559015870094299,0.235469892 ... (14925 characters truncated) ... 87275696,0.22770874202251434,0.9135093092918396,-0.2299477607011795,-0.40244343876838684,-0.8386380672454834,0.12401708960533142,-1.0957659482955933]', UUID('eed824c0-96b3-458d-b28f-819bcf01e2cc'))
2026-02-18 15:20:51,418 - chatbot_ai_system.orchestrator - INFO - Generated embedding for message eed824c0-96b3-458d-b28f-819bcf01e2cc
2026-02-18 15:21:09,999 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2026-02-18 15:21:10,010 - chatbot_ai_system.providers.ollama - INFO - Ollama response content: INTENT: FILESYSTEM
COMPLEXITY: SIMPLE...
2026-02-18 15:21:10,013 - chatbot_ai_system.services.agentic_engine - INFO - Phase 5.5 classifier: intent=FILESYSTEM, complexity=COMPLEX (raw: 'INTENT: FILESYSTEM\nCOMPLEXITY: SIMPLE')
2026-02-18 15:21:10,014 - chatbot_ai_system.orchestrator - INFO - Phase 4: intent='FILESYSTEM', complexity='COMPLEX'
2026-02-18 15:21:10,050 - chatbot_ai_system.orchestrator - INFO - Phase 5: Selected 8 tools: ['read_file', 'read_text_file', 'read_media_file', 'read_multiple_files', 'write_file', 'edit_file', 'create_directory', 'list_directory']
2026-02-18 15:21:10,629 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/embeddings "HTTP/1.1 200 OK"
2026-02-18 15:21:10,654 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages JOIN conversations ON conversations.id = messages.conversation_id 
WHERE conversations.user_id = $1::UUID AND (messages.embedding <=> $2) < $3::FLOAT ORDER BY messages.embedding <=> $4 
 LIMIT $5::INTEGER
2026-02-18 15:21:10,654 - sqlalchemy.engine.Engine - INFO - SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages JOIN conversations ON conversations.id = messages.conversation_id 
WHERE conversations.user_id = $1::UUID AND (messages.embedding <=> $2) < $3::FLOAT ORDER BY messages.embedding <=> $4 
 LIMIT $5::INTEGER
2026-02-18 15:21:10,654 INFO sqlalchemy.engine.Engine [cached since 172.9s ago] (UUID('00000000-0000-0000-0000-000000000000'), '[-0.3693997263908386,-0.7137481570243835,-3.3623862266540527,-1.1653330326080322,0.9381694793701172,-0.7184814214706421,-0.4899309575557709,0.7682327 ... (14892 characters truncated) ... 02801514,0.6880816221237183,0.3045331537723541,0.13417810201644897,-0.17993922531604767,-1.4731460809707642,0.016763366758823395,-0.9939128160476685]', 0.30000000000000004, '[-0.3693997263908386,-0.7137481570243835,-3.3623862266540527,-1.1653330326080322,0.9381694793701172,-0.7184814214706421,-0.4899309575557709,0.7682327 ... (14892 characters truncated) ... 02801514,0.6880816221237183,0.3045331537723541,0.13417810201644897,-0.17993922531604767,-1.4731460809707642,0.016763366758823395,-0.9939128160476685]', 3)
2026-02-18 15:21:10,654 - sqlalchemy.engine.Engine - INFO - [cached since 172.9s ago] (UUID('00000000-0000-0000-0000-000000000000'), '[-0.3693997263908386,-0.7137481570243835,-3.3623862266540527,-1.1653330326080322,0.9381694793701172,-0.7184814214706421,-0.4899309575557709,0.7682327 ... (14892 characters truncated) ... 02801514,0.6880816221237183,0.3045331537723541,0.13417810201644897,-0.17993922531604767,-1.4731460809707642,0.016763366758823395,-0.9939128160476685]', 0.30000000000000004, '[-0.3693997263908386,-0.7137481570243835,-3.3623862266540527,-1.1653330326080322,0.9381694793701172,-0.7184814214706421,-0.4899309575557709,0.7682327 ... (14892 characters truncated) ... 02801514,0.6880816221237183,0.3045331537723541,0.13417810201644897,-0.17993922531604767,-1.4731460809707642,0.016763366758823395,-0.9939128160476685]', 3)
2026-02-18 15:21:10,682 - chatbot_ai_system.orchestrator - INFO - Phase 5.5: Retrieved 3 similar messages.
2026-02-18 15:21:10,683 - chatbot_ai_system.orchestrator - INFO - Phase 5.5: Routing to agentic Plan+ReAct engine
2026-02-18 15:21:10,684 - chatbot_ai_system.providers.ollama - INFO - Ollama Request URL: http://localhost:11434/api/chat
2026-02-18 15:21:10,684 - chatbot_ai_system.providers.ollama - INFO - Ollama Request Payload: {'model': 'qwen2.5:14b-instruct', 'messages': [{'role': 'system', 'content': "You are a task planner. Break the user's request into a step-by-step plan.\n\nRules:\n1. Each step must be ONE concrete action.\n2. Steps should be in logical order — later steps can use results of earlier steps.\n3. Keep steps concise (one line each).\n4. 3-6 steps maximum. Do not over-plan.\n5. The final step should synthesize/summarize the results.\n6. Available tools: read_file, read_text_file, read_media_file, read_multiple_files, write_file, edit_file, create_directory, list_directory\n\nOutput a numbered list ONLY, nothing else.\nExample:\n1. Read the error log file\n2. Identify the source file and line from the error\n3. Read the relevant source file\n4. Analyze the bug and suggest a fix"}, {'role': 'user', 'content': 'List files in the current directory'}], 'stream': False, 'options': {'temperature': 0.3, 'repeat_penalty': 1.1, 'num_predict': 300}}
2026-02-18 15:21:27,614 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2026-02-18 15:21:27,661 - chatbot_ai_system.providers.ollama - INFO - Ollama response content: 1. List the contents of the current directory
2. Review the listed files and directories...
2026-02-18 15:21:27,662 - chatbot_ai_system.services.agentic_engine - INFO - Phase 5.5 planner: 2 steps — ['List the contents of the current directory', 'Review the listed files and directories']
2026-02-18 15:22:23,370 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2026-02-18 15:23:05,657 - chatbot_ai_system.services.agentic_engine - INFO - Phase 5.5 round 1: list_directory completed in 0.35s
2026-02-18 15:23:05,659 - chatbot_ai_system.services.agentic_engine - WARNING - Phase 5.5: Timeout after 98.0s, 1 rounds
2026-02-18 15:23:20,823 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2026-02-18 15:25:59,585 - chatbot_ai_system.services.agentic_engine - INFO - Phase 5.5: Force-synthesized after 2 rounds, 271.9s
2026-02-18 15:25:59,714 INFO sqlalchemy.engine.Engine INSERT INTO messages (id, conversation_id, role, content, tool_calls, tool_call_id, metadata, token_count_prompt, token_count_completion, model, latency_ms, finish_reason, embedding, sequence_number, created_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::JSONB, $6::VARCHAR, $7::JSONB, $8::INTEGER, $9::INTEGER, $10::VARCHAR, $11::INTEGER, $12::VARCHAR, $13, $14::INTEGER, $15::TIMESTAMP WITHOUT TIME ZONE)
2026-02-18 15:25:59,714 - sqlalchemy.engine.Engine - INFO - INSERT INTO messages (id, conversation_id, role, content, tool_calls, tool_call_id, metadata, token_count_prompt, token_count_completion, model, latency_ms, finish_reason, embedding, sequence_number, created_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::JSONB, $6::VARCHAR, $7::JSONB, $8::INTEGER, $9::INTEGER, $10::VARCHAR, $11::INTEGER, $12::VARCHAR, $13, $14::INTEGER, $15::TIMESTAMP WITHOUT TIME ZONE)
2026-02-18 15:25:59,715 INFO sqlalchemy.engine.Engine [cached since 486.3s ago] (UUID('f924423b-b490-42a6-b085-6ca79b18b2e5'), UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'), <MessageRole.ASSISTANT: 'assistant'>, 'From the previous list_directory command response, I can see that the current directory contains a variety of items including files such as .env, REA ... (1168 characters truncated) ... ration between source code, configuration, documentation, media files, test cases, and other supporting materials necessary for software development.', 'null', None, '{"model": "qwen2.5:14b-instruct", "type": "agentic", "plan": ["List the contents of the current directory", "Review the listed files and directories"]}', 612, 320, 'qwen2.5:14b-instruct', None, None, None, 2, datetime.datetime(2026, 2, 18, 6, 25, 59, 709753))
2026-02-18 15:25:59,715 - sqlalchemy.engine.Engine - INFO - [cached since 486.3s ago] (UUID('f924423b-b490-42a6-b085-6ca79b18b2e5'), UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'), <MessageRole.ASSISTANT: 'assistant'>, 'From the previous list_directory command response, I can see that the current directory contains a variety of items including files such as .env, REA ... (1168 characters truncated) ... ration between source code, configuration, documentation, media files, test cases, and other supporting materials necessary for software development.', 'null', None, '{"model": "qwen2.5:14b-instruct", "type": "agentic", "plan": ["List the contents of the current directory", "Review the listed files and directories"]}', 612, 320, 'qwen2.5:14b-instruct', None, None, None, 2, datetime.datetime(2026, 2, 18, 6, 25, 59, 709753))
2026-02-18 15:25:59,776 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.id = $1::UUID
2026-02-18 15:25:59,776 - sqlalchemy.engine.Engine - INFO - SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.id = $1::UUID
2026-02-18 15:25:59,777 INFO sqlalchemy.engine.Engine [cached since 486.4s ago] (UUID('f924423b-b490-42a6-b085-6ca79b18b2e5'),)
2026-02-18 15:25:59,777 - sqlalchemy.engine.Engine - INFO - [cached since 486.4s ago] (UUID('f924423b-b490-42a6-b085-6ca79b18b2e5'),)
2026-02-18 15:25:59,841 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 15:25:59,841 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-18 15:25:59,852 - chatbot_ai_system.orchestrator - ERROR - Failed to embed user message at seq 1: This session is in 'prepared' state; no further SQL can be emitted within this transaction.
INFO:     127.0.0.1:56616 - "POST /api/chat HTTP/1.1" 200 OK
2026-02-18 15:25:59,950 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 15:25:59,950 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-18 15:25:59,951 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.created_at, users.last_login_at 
FROM users 
WHERE users.id = $1::UUID
2026-02-18 15:25:59,951 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.username, users.created_at, users.last_login_at 
FROM users 
WHERE users.id = $1::UUID
2026-02-18 15:25:59,951 INFO sqlalchemy.engine.Engine [cached since 486.6s ago] (UUID('00000000-0000-0000-0000-000000000000'),)
2026-02-18 15:25:59,951 - sqlalchemy.engine.Engine - INFO - [cached since 486.6s ago] (UUID('00000000-0000-0000-0000-000000000000'),)
2026-02-18 15:25:59,956 INFO sqlalchemy.engine.Engine SELECT conversations.id, conversations.user_id, conversations.title, conversations.is_archived, conversations.created_at, conversations.updated_at, conversations.summary, conversations.last_summarized_seq_id 
FROM conversations 
WHERE conversations.id = $1::UUID
2026-02-18 15:25:59,956 - sqlalchemy.engine.Engine - INFO - SELECT conversations.id, conversations.user_id, conversations.title, conversations.is_archived, conversations.created_at, conversations.updated_at, conversations.summary, conversations.last_summarized_seq_id 
FROM conversations 
WHERE conversations.id = $1::UUID
2026-02-18 15:25:59,956 INFO sqlalchemy.engine.Engine [cached since 486.6s ago] (UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'),)
2026-02-18 15:25:59,956 - sqlalchemy.engine.Engine - INFO - [cached since 486.6s ago] (UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'),)
2026-02-18 15:25:59,959 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.conversation_id = $1::UUID ORDER BY messages.sequence_number DESC 
 LIMIT $2::INTEGER
2026-02-18 15:25:59,959 - sqlalchemy.engine.Engine - INFO - SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.conversation_id = $1::UUID ORDER BY messages.sequence_number DESC 
 LIMIT $2::INTEGER
2026-02-18 15:25:59,959 INFO sqlalchemy.engine.Engine [cached since 486.6s ago] (UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'), 50)
2026-02-18 15:25:59,959 - sqlalchemy.engine.Engine - INFO - [cached since 486.6s ago] (UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'), 50)
2026-02-18 15:25:59,962 INFO sqlalchemy.engine.Engine INSERT INTO messages (id, conversation_id, role, content, tool_calls, tool_call_id, metadata, token_count_prompt, token_count_completion, model, latency_ms, finish_reason, embedding, sequence_number, created_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::JSONB, $6::VARCHAR, $7::JSONB, $8::INTEGER, $9::INTEGER, $10::VARCHAR, $11::INTEGER, $12::VARCHAR, $13, $14::INTEGER, $15::TIMESTAMP WITHOUT TIME ZONE)
2026-02-18 15:25:59,962 - sqlalchemy.engine.Engine - INFO - INSERT INTO messages (id, conversation_id, role, content, tool_calls, tool_call_id, metadata, token_count_prompt, token_count_completion, model, latency_ms, finish_reason, embedding, sequence_number, created_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::JSONB, $6::VARCHAR, $7::JSONB, $8::INTEGER, $9::INTEGER, $10::VARCHAR, $11::INTEGER, $12::VARCHAR, $13, $14::INTEGER, $15::TIMESTAMP WITHOUT TIME ZONE)
2026-02-18 15:25:59,962 INFO sqlalchemy.engine.Engine [cached since 486.6s ago] (UUID('1fa3f1b4-4459-4e9c-9ff8-c68d267b793b'), UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'), <MessageRole.USER: 'user'>, 'Check git status and list the files in src/', 'null', None, 'null', None, None, None, None, None, None, 3, datetime.datetime(2026, 2, 18, 6, 25, 59, 961977))
2026-02-18 15:25:59,962 - sqlalchemy.engine.Engine - INFO - [cached since 486.6s ago] (UUID('1fa3f1b4-4459-4e9c-9ff8-c68d267b793b'), UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'), <MessageRole.USER: 'user'>, 'Check git status and list the files in src/', 'null', None, 'null', None, None, None, None, None, None, 3, datetime.datetime(2026, 2, 18, 6, 25, 59, 961977))
2026-02-18 15:25:59,964 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.id = $1::UUID
2026-02-18 15:25:59,964 - sqlalchemy.engine.Engine - INFO - SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.id = $1::UUID
2026-02-18 15:25:59,964 INFO sqlalchemy.engine.Engine [cached since 486.6s ago] (UUID('1fa3f1b4-4459-4e9c-9ff8-c68d267b793b'),)
2026-02-18 15:25:59,964 - sqlalchemy.engine.Engine - INFO - [cached since 486.6s ago] (UUID('1fa3f1b4-4459-4e9c-9ff8-c68d267b793b'),)
2026-02-18 15:25:59,964 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 15:25:59,964 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-18 15:25:59,967 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 15:25:59,967 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-18 15:25:59,967 INFO sqlalchemy.engine.Engine SELECT memories.id, memories.user_id, memories.content, memories.context, memories.last_accessed_at 
FROM memories 
WHERE memories.user_id = $1::UUID
2026-02-18 15:25:59,967 - sqlalchemy.engine.Engine - INFO - SELECT memories.id, memories.user_id, memories.content, memories.context, memories.last_accessed_at 
FROM memories 
WHERE memories.user_id = $1::UUID
2026-02-18 15:25:59,967 INFO sqlalchemy.engine.Engine [cached since 486.6s ago] (UUID('00000000-0000-0000-0000-000000000000'),)
2026-02-18 15:25:59,967 - sqlalchemy.engine.Engine - INFO - [cached since 486.6s ago] (UUID('00000000-0000-0000-0000-000000000000'),)
2026-02-18 15:25:59,974 INFO sqlalchemy.engine.Engine SELECT conversations.id, conversations.user_id, conversations.title, conversations.is_archived, conversations.created_at, conversations.updated_at, conversations.summary, conversations.last_summarized_seq_id 
FROM conversations 
WHERE conversations.id = $1::UUID
2026-02-18 15:25:59,974 - sqlalchemy.engine.Engine - INFO - SELECT conversations.id, conversations.user_id, conversations.title, conversations.is_archived, conversations.created_at, conversations.updated_at, conversations.summary, conversations.last_summarized_seq_id 
FROM conversations 
WHERE conversations.id = $1::UUID
2026-02-18 15:25:59,974 INFO sqlalchemy.engine.Engine [cached since 486.6s ago] (UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'),)
2026-02-18 15:25:59,974 - sqlalchemy.engine.Engine - INFO - [cached since 486.6s ago] (UUID('ee9340ab-2624-4daf-9cab-0edb6744483f'),)
2026-02-18 15:25:59,975 - chatbot_ai_system.orchestrator - INFO - Using cached context for conversation ee9340ab-2624-4daf-9cab-0edb6744483f
2026-02-18 15:25:59,975 - chatbot_ai_system.providers.ollama - INFO - Ollama Request URL: http://localhost:11434/api/chat
2026-02-18 15:25:59,976 - chatbot_ai_system.providers.ollama - INFO - Ollama Request Payload: {'model': 'qwen2.5:14b-instruct', 'messages': [{'role': 'system', 'content': "You are a query analyzer. Given the user's message, output TWO things.\n\n1. INTENT — which category of tools is needed:\n   GENERAL: General knowledge, coding advice, greetings, math, explanations.\n   FILESYSTEM: Reading/writing files, listing directories, searching files.\n   TIME: Tools for time operations.\n   MEMORY: Tools for memory operations.\n   FETCH: Web requests, URLs, downloading content from the internet.\n   PUPPETEER: Tools for puppeteer operations.\n   GIT: Version control, commits, branches, diffs, blame.\n   DOCKER: Tools for docker operations.\n   SEQUENTIAL-THINKING: Tools for sequential-thinking operations.\n   SQLITE: Tools for sqlite operations.\n\n2. COMPLEXITY — how many steps are needed:\n   SIMPLE: Can be answered in ONE step (single tool call or direct knowledge).\n     Examples: 'What is Python?', 'Read file.py', 'Show git status'\n   COMPLEX: Needs MULTIPLE steps where later steps depend on earlier results.\n     Examples: 'Read error log AND find the bug in source code',\n              'Compare files A and B and summarize differences',\n              'Search web for X then check our code for Y'\n\n   Signals of COMPLEX:\n     - Multiple files/resources/actions mentioned\n     - Sequential words: 'and then', 'after that', 'first...then'\n     - Analysis words: 'compare', 'analyze', 'debug', 'investigate', 'research'\n     - Conditional: 'if X then Y'\n\nOutput EXACTLY two lines, nothing else:\nINTENT: <category>\nCOMPLEXITY: <level>"}, {'role': 'user', 'content': 'Check git status and list the files in src/'}], 'stream': False, 'options': {'temperature': 0.1, 'repeat_penalty': 1.1, 'num_predict': 20}}
2026-02-18 15:26:03,863 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/embeddings "HTTP/1.1 200 OK"
2026-02-18 15:26:04,292 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 15:26:04,292 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-18 15:26:04,295 INFO sqlalchemy.engine.Engine SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.id = $1::UUID
2026-02-18 15:26:04,295 - sqlalchemy.engine.Engine - INFO - SELECT messages.id, messages.conversation_id, messages.role, messages.content, messages.tool_calls, messages.tool_call_id, messages.metadata, messages.token_count_prompt, messages.token_count_completion, messages.model, messages.latency_ms, messages.finish_reason, messages.embedding, messages.sequence_number, messages.created_at 
FROM messages 
WHERE messages.id = $1::UUID
2026-02-18 15:26:04,296 INFO sqlalchemy.engine.Engine [cached since 313s ago] (UUID('f924423b-b490-42a6-b085-6ca79b18b2e5'),)
2026-02-18 15:26:04,296 - sqlalchemy.engine.Engine - INFO - [cached since 313s ago] (UUID('f924423b-b490-42a6-b085-6ca79b18b2e5'),)
2026-02-18 15:26:04,483 INFO sqlalchemy.engine.Engine UPDATE messages SET embedding=$1 WHERE messages.id = $2::UUID
2026-02-18 15:26:04,483 - sqlalchemy.engine.Engine - INFO - UPDATE messages SET embedding=$1 WHERE messages.id = $2::UUID
2026-02-18 15:26:04,484 INFO sqlalchemy.engine.Engine [cached since 313.1s ago] ('[-0.4263978600502014,0.4600807726383209,-2.807023763656616,-0.630013108253479,0.9168128371238708,-0.9933322668075562,-0.25034764409065247,-0.36675131 ... (14930 characters truncated) ... 8583316803,0.12170731276273727,0.434077650308609,0.44352176785469055,-0.6604757905006409,-0.7021942138671875,-1.1497316360473633,-0.5424885749816895]', UUID('f924423b-b490-42a6-b085-6ca79b18b2e5'))
2026-02-18 15:26:04,484 - sqlalchemy.engine.Engine - INFO - [cached since 313.1s ago] ('[-0.4263978600502014,0.4600807726383209,-2.807023763656616,-0.630013108253479,0.9168128371238708,-0.9933322668075562,-0.25034764409065247,-0.36675131 ... (14930 characters truncated) ... 8583316803,0.12170731276273727,0.434077650308609,0.44352176785469055,-0.6604757905006409,-0.7021942138671875,-1.1497316360473633,-0.5424885749816895]', UUID('f924423b-b490-42a6-b085-6ca79b18b2e5'))
2026-02-18 15:26:04,516 - chatbot_ai_system.orchestrator - INFO - Generated embedding for message f924423b-b490-42a6-b085-6ca79b18b2e5
2026-02-18 15:26:20,938 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2026-02-18 15:26:20,942 - chatbot_ai_system.providers.ollama - INFO - Ollama response content: INTENT: GIT
COMPLEXITY: COMPLEX...
2026-02-18 15:26:20,946 - chatbot_ai_system.services.agentic_engine - INFO - Phase 5.5 classifier: intent=GIT, complexity=COMPLEX (raw: 'INTENT: GIT\nCOMPLEXITY: COMPLEX')
2026-02-18 15:26:20,946 - chatbot_ai_system.orchestrator - INFO - Phase 4: intent='GIT', complexity='COMPLEX'
2026-02-18 15:26:20,969 - chatbot_ai_system.orchestrator - INFO - Phase 5: Selected 8 tools: ['git_add', 'git_branch', 'git_checkout', 'git_cherry_pick', 'git_clean', 'git_clear_working_dir', 'git_clone', 'git_commit']
2026-02-18 15:26:20,973 - chatbot_ai_system.orchestrator - INFO - Phase 5.5: Routing to agentic Plan+ReAct engine
2026-02-18 15:26:20,973 - chatbot_ai_system.providers.ollama - INFO - Ollama Request URL: http://localhost:11434/api/chat
2026-02-18 15:26:20,973 - chatbot_ai_system.providers.ollama - INFO - Ollama Request Payload: {'model': 'qwen2.5:14b-instruct', 'messages': [{'role': 'system', 'content': "You are a task planner. Break the user's request into a step-by-step plan.\n\nRules:\n1. Each step must be ONE concrete action.\n2. Steps should be in logical order — later steps can use results of earlier steps.\n3. Keep steps concise (one line each).\n4. 3-6 steps maximum. Do not over-plan.\n5. The final step should synthesize/summarize the results.\n6. Available tools: git_add, git_branch, git_checkout, git_cherry_pick, git_clean, git_clear_working_dir, git_clone, git_commit\n\nOutput a numbered list ONLY, nothing else.\nExample:\n1. Read the error log file\n2. Identify the source file and line from the error\n3. Read the relevant source file\n4. Analyze the bug and suggest a fix"}, {'role': 'user', 'content': 'Check git status and list the files in src/'}], 'stream': False, 'options': {'temperature': 0.3, 'repeat_penalty': 1.1, 'num_predict': 300}}
INFO:     Shutting down
INFO:     Waiting for background tasks to complete. (CTRL+C to force quit)
Puppeteer MCP Server closed
